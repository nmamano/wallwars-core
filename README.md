# wallwars-core

Core logic of the wallwars game and variants.

## Workflow for working with the package

This is a reminder for how to update and use this package.

1. Make changes in `src/`. The changes can be broken into as many git commits as necessary.

When ready to publish and use the changes:

2. Ensure tests pass.

`npm test`

3. Make sure the git state is clean (contains no unstaged or staged changes)

4. Build. This transpiles `ts` to `js` and generates the `.d.ts` file with type descriptions.

`npm run build`

5. Increment the version number.

`npm version patch`

This update the version in `package.json` and `package-lock.json`,
creates a new commit with the updated version,
and tag the commit with the new version.
Instead of `patch`, the argument could also be `minor` or `major`.

6. Push the commit generated by `npm version` to github.
This is not necessary for the following steps, but doing it now keeps npm and github consistent.

`git push --follow-tags`

7. Publish to npm.

`npm publish`

8. Update the version in each of the browser and node.js packages.

`npm install wallwars-core@latest`
